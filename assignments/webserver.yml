--- # Outline to Playbook Translation
- hosts: apacheweb
  user: santu
  connection: ssh
  sudo: yes
  gather_facts: no
  tasks:
  - name: date/time stamp for when the playbook starts
    command: /usr/bin/date
    register: timsetart
  - debug: var=timsetart
  - name: install the apache web server
    yum: pkg=httpd state=latest
    notify: start HTTPD
  - name: start the web service
    command: systemctl status httpd
    register: result
    ignore_errors: yes
  - debug: var=result
  - name: verify that the web service is running
    command: systemctl status httpd
    register: result
  - debug: var=result
  - name: install client software - telnet
    yum: pkg={{ item }} state=latest
    with_items:
        - lynx
        - telnet
  - name: log all the packages install on the system
    command: yum list installed | grep "lynx,telnet"
    register: installed_result
  - debug: var=installed_result
  - name: date/time stamp for when the playbook ends
    command: /usr/bin/date
    register: timestamp_end
  - debug: var=timestamp_end
  handlers:
    - name: start HTTPD
      service: name=httpd state=restarted
